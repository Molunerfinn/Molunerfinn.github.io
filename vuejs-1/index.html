<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="前端," />





  <link rel="alternate" href="/atom.xml" title="MARKSZのBlog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="这段时间在做的东西，是北邮人论坛APP的注册页。这个注册页是内嵌的网页，因为打算安卓和IOS平台同时使用。因此实际上就是在做移动端的web开发了。在这过程中遇到了不少有意思的东西。
DEMO的github地址在这里">
<meta property="og:type" content="article">
<meta property="og:title" content="移动端web开发初探之Vuejs的简单实战">
<meta property="og:url" content="https://molunerfinn.com/vuejs-1/index.html">
<meta property="og:site_name" content="MARKSZのBlog">
<meta property="og:description" content="这段时间在做的东西，是北邮人论坛APP的注册页。这个注册页是内嵌的网页，因为打算安卓和IOS平台同时使用。因此实际上就是在做移动端的web开发了。在这过程中遇到了不少有意思的东西。
DEMO的github地址在这里">
<meta property="og:image" content="http://7xog0l.com1.z0.glb.clouddn.com/blog/1.png">
<meta property="og:image" content="http://7xog0l.com1.z0.glb.clouddn.com/blog/2.png">
<meta property="og:image" content="http://7xog0l.com1.z0.glb.clouddn.com/blog/3.png">
<meta property="og:image" content="http://7xog0l.com1.z0.glb.clouddn.com/blog/4.png">
<meta property="og:image" content="http://7xog0l.com1.z0.glb.clouddn.com/blog/1.png">
<meta property="og:image" content="http://7xog0l.com1.z0.glb.clouddn.com/blog/5.gif">
<meta property="og:updated_time" content="2016-11-09T14:44:23.764Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="移动端web开发初探之Vuejs的简单实战">
<meta name="twitter:description" content="这段时间在做的东西，是北邮人论坛APP的注册页。这个注册页是内嵌的网页，因为打算安卓和IOS平台同时使用。因此实际上就是在做移动端的web开发了。在这过程中遇到了不少有意思的东西。
DEMO的github地址在这里">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '6215405113033360000',
      author: '皮蛋'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://molunerfinn.com/vuejs-1/"/>





  <title> 移动端web开发初探之Vuejs的简单实战 | MARKSZのBlog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?19a7ebdbb87f2403773c7ab0cae16d21";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">MARKSZのBlog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">Do what you love,Love what you do</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'zg5zsQFz7PmxAgE-nHVh','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://molunerfinn.com/vuejs-1/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Molunerfinn">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://img.piegg.cn/21.jpg?imageslim">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="MARKSZのBlog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="MARKSZのBlog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                移动端web开发初探之Vuejs的简单实战
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2016-06-26T17:06:00+08:00">
                2016-06-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/开发/" itemprop="url" rel="index">
                    <span itemprop="name">开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/vuejs-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="vuejs-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>这段时间在做的东西，是北邮人论坛APP的注册页。这个注册页是内嵌的网页，因为打算安卓和IOS平台同时使用。因此实际上就是在做移动端的web开发了。<br>在这过程中遇到了不少有意思的东西。</p>
<p><strong>DEMO的github地址在<a href="https://github.com/Molunerfinn/vue-mobile-learning-demo" target="_blank" rel="external">这里</a></strong></p>
<a id="more"></a>
<p>内容提要：</p>
<ul>
<li>meta标签</li>
<li>Vuejs的简单实战</li>
<li>CSS移动端全屏背景</li>
<li>CSS移动端动画初探</li>
</ul>
<h2 id="meta标签">meta标签</h2><p>这点与在PC端写前端有着很大的区别，移动端的meta标签简直多。我就说说我所用到的标签。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 1、如果支持Google Chrome Frame：GCF，则使用GCF渲染；2、如果系统安装ie8或以上版本，则使用最高版本ie渲染；3、否则，这个设定可以忽略。 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"X-UA-Compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=Edge,chrome=1"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 对视窗缩放等级进行限制，使其适应移动端屏幕大小 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">name</span>=<span class="value">"viewport"</span> <span class="attribute">content</span>=<span class="value">"width=device-width, initial-scale=1"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 当把这个网页添加到主屏幕时的标题（仅限IOS） --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">name</span>=<span class="value">"apple-mobile-web-app-title"</span> <span class="attribute">content</span>=<span class="value">"北邮人论坛注册"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加到主屏幕后全屏显示 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">name</span>=<span class="value">"apple-touch-fullscreen"</span> <span class="attribute">content</span>=<span class="value">"yes"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>尤其是第二个meta标签，是移动端适配非常重要的一句话。</p>
<h2 id="整体布局">整体布局</h2><p>整体的布局大致是4-5页横向布局。第一页是用来填写注册信息的。后面的几页是用来选择关注的版面的。</p>
<h3 id="注册信息页">注册信息页</h3><p><img src="http://7xog0l.com1.z0.glb.clouddn.com/blog/1.png" alt="注册信息页"></p>
<h3 id="关注版面页">关注版面页</h3><p><img src="http://7xog0l.com1.z0.glb.clouddn.com/blog/2.png" alt="关注版面页"><br><img src="http://7xog0l.com1.z0.glb.clouddn.com/blog/3.png" alt="关注版面页"><br><img src="http://7xog0l.com1.z0.glb.clouddn.com/blog/4.png" alt="关注版面页"></p>
<h2 id="整体架构">整体架构</h2><p>前端采用的架构大致是这样：</p>
<ul>
<li>滑动切换页面的效果来自<a href="http://idangero.us/swiper" target="_blank" rel="external">swiper.js</a></li>
<li>页面内容的渲染采用<a href="http://vuejs.org.cn/" target="_blank" rel="external">Vue.js</a></li>
<li>页面布局和样式采用纯css，部分效果采用css3</li>
<li>ajax部分采用<a href="https://github.com/vuejs/vue-resource" target="_blank" rel="external">vue-resource</a></li>
</ul>
<p>后端支撑的框架来自php的<a href="http://www.golaravel.com/" target="_blank" rel="external">laravel</a>，当然，这不是本文的重点，仅提及一下。  </p>
<p>是的这次的开发中，已经看不到jquery的身影了——这也是前端以后发展后的结果——慢慢地脱离jquery的依赖。不过jquery给前端带来的改变和发展是无人能替代的。</p>
<h2 id="swiper-js的应用">swiper.js的应用</h2><p>引入swiper.js来进行页面的切换效果纯粹是因为这次开发的周期要求比较短，要考虑效果和兼容性兼备的情况下，我就偷懒找了一个动画库。  </p>
<p>不过这个动画库的效果我还是算比较满意的。而整体来说使用也相当方便。尤其是，swiper.js是可以不依赖jquery的。</p>
<p>使用起来也比较方便。我简要说说用法。</p>
<p>首先需要在页面顶部的<code>head</code>标签里加入swiperjs的css文件：</p>
<p><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;css/swiper.min.css&#39;)&quot;&gt;</code></p>
<p>然后在页面底部可以引入和写下相应的js：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"&#123;&#123; asset('js/swiper.min.js') &#125;&#125;"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Initialize Swiper --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="actionscript"></span><br><span class="line">  <span class="keyword">var</span> swiper = <span class="keyword">new</span> Swiper(<span class="string">'.swiper-container'</span>, &#123;</span><br><span class="line">    pagination: <span class="string">'.swiper-pagination'</span>,</span><br><span class="line">    paginationType: <span class="string">'progress'</span>,</span><br><span class="line">    noSwipingClass: <span class="string">'swiper-no-swiping'</span>,</span><br><span class="line">    allowSwipeToNext: <span class="literal">true</span>,</span><br><span class="line">    allowSwipeToPrev: <span class="literal">true</span>,</span><br><span class="line">  &#125;); </span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>解释一下，创建一个swiper的对象，然后这对象的容器是class叫做<code>swiper-container</code>的一个html元素。对其的配置是：</p>
<ul>
<li>pagination: ‘.swiper-pagination’, 显示页码</li>
<li>paginationType: ‘progress’, 页码显示格式为进度条，可以参见顶部蓝白色的进度条</li>
<li>noSwipingClass: ‘swiper-no-swiping’,  不允许进行触摸滑动的元素的class名称</li>
<li>allowSwipeToNext: true, 允许向后滑动</li>
<li>allowSwipeToPrev: true, 允许向前滑动</li>
</ul>
<p>相应的HTML代码可以如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- swiper生效的容器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"swiper-contanier"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"swiper-wrapper"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 具体滑动的页面 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"swiper-slide"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"swiper-slide"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"swiper-slide"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"swiper-slide"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 进度条 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"swiper-pagination"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>有些页面是不能直接让用户通过触摸来前后滑动的，而必须通过点击按钮触发。比如第一页注册页，这个页面就是必须填写完信息然后点击下一步进行验证后然后才可以滑动到后面的内容。所以只要将这个页面所在的class里加上<code>swiper-no-swiping</code>这个class就可以实现无法触摸滑动切换页面了。</p>
<p>然后我们可以通过<code>swiper.slideNext(bool,time)</code>这个方法来进行手动控制向后翻页的动作以及控制动画的时长。这个内容会在vue里说到。</p>
<h2 id="Vue-js的简单实战">Vue.js的简单实战</h2><p>由于本次的开发只是在原有的北邮人开放平台的项目的基础上加入一个快速注册的功能，所以Vue.js的引入并不是为了将整个项目重构，而只是为了尝试一下脱离jquery的情况下对于开发来说不同的体验是什么，能学到什么。</p>
<p>关于Vue.js的用法、特性什么的不是本文的重点，题外话就不说了。说说本次实现思路。因为我的Vuejs实际上也只是算入门级别，只能说会用但是还没到能驾驭的程度。</p>
<p>首先整个页面包在class叫做<code>swiper-contanier</code>的元素中。因为这个元素包括了滑动所需的所有东西，我们实际上可以简单的把它看成是一个SPA(Single Page Application)，用一个Vue的实例就可以接管整个页面了（这么说是不负责的，因为实际上Vue是组件化的思想）。</p>
<p>先创建一个基本的Vue的示例，并将其和<code>swiper-container</code>绑定起来：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">".swiper-contanier"</span>, <span class="comment">// 将这个实例与html元素绑定起来</span></span><br><span class="line">  data: &#123;&#125;, <span class="comment">// 所需要变动、关注的数据，也是vue的核心</span></span><br><span class="line">  ready: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;, <span class="comment">// vue提供的钩子，用于在vue渲染视图完成后立即触发</span></span><br><span class="line">  methods: &#123;&#125; <span class="comment">// 方法，用于操作、更新、改变数据而改变视图</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="注册页实现">注册页实现</h3><p>上面所说，我们的页面是构建在一个Vue的实例上的。因此不同类型的两种页面如何用一个实例来接管呢？在这里我的实现方式是用两类数据来分别表示。  </p>
<p>我们分析一下注册页：</p>
<p><img src="http://7xog0l.com1.z0.glb.clouddn.com/blog/1.png" alt="注册信息页"></p>
<p>实际上注册页的中间部分是重复的元素，他们都是input标签+显示文字标签（对，尤其注意这里并不是用placeholder实现的）。效果：</p>
<p><img src="http://7xog0l.com1.z0.glb.clouddn.com/blog/5.gif" alt="效果"></p>
<p>所以这中间的部分实际上可以看成是一个列表，可以用Vue的v-for来渲染。列表里所不同的只是显示的文字不同以及input框的类型不同（有text类型的，有password类型的），所以用数据绑定的方式我们可以将这个页面的数据格式安排如下：</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  main: [</span><br><span class="line">    &#123;<span class="string">"name"</span>:<span class="string">"username"</span>,<span class="string">"info"</span>:<span class="string">"用户名(以英文开头+英文数字)"</span>,<span class="string">"type"</span>:<span class="string">"text"</span>&#125;,</span><br><span class="line">    &#123;<span class="string">"name"</span>:<span class="string">"passwd"</span>,<span class="string">"info"</span>:<span class="string">"设置密码"</span>,<span class="string">"type"</span>:<span class="string">"password"</span>&#125;,</span><br><span class="line">    &#123;<span class="string">"name"</span>:<span class="string">"passwd_confirm"</span>,<span class="string">"info"</span>:<span class="string">"在输入一遍密码"</span>,<span class="string">"type"</span>:<span class="string">"password"</span>&#125;，</span><br><span class="line">    &#123;<span class="string">"name"</span>:<span class="string">"gwno"</span>,<span class="string">"info"</span>:<span class="string">"校园网账户(默认是学号)"</span>,<span class="string">"type"</span>:<span class="string">"text"</span>&#125;,</span><br><span class="line">    &#123;<span class="string">"name"</span>:<span class="string">"gwpwd"</span>,<span class="string">"info"</span>:<span class="string">"校园网密码(默认是身份证后六位)"</span>,<span class="string">"type"</span>:<span class="string">"password"</span>&#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>同时我们创建一个便于和前端视图进行双向绑定的数据对象<code>userInfo</code>：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">data</span>: &#123;</span><br><span class="line">  <span class="tag">main</span>: <span class="attr_selector">[...]</span>,</span><br><span class="line">  <span class="tag">userInfo</span>: &#123;</span><br><span class="line">    <span class="attribute">username</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="attribute">passwd</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="attribute">passwd_confirm</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="attribute">gwno</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="attribute">gwpwd</span>: <span class="string">""</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>而在前端的话我们就可以用这个数据来进行视图渲染：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"user-info"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">li</span> <span class="attribute">v-for</span>=<span class="value">"item in main"</span> <span class="attribute">style</span>=<span class="value">"position: relative;"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- input输入框 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 此处用了v-model将数据和视图进行了双向绑定 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">input</span> <span class="attribute">class</span>=<span class="value">"effect"</span> <span class="attribute">type</span>=<span class="value">"&#123;&#123;item.type&#125;&#125;"</span> <span class="attribute">v-model</span>=<span class="value">"userInfo[item.name]"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 提示信息 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">span</span>&gt;</span>&#123;&#123;item.info&#125;&#125;<span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- input框的底下的线条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"focus-border cube"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">li</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#"</span>&gt;</span><span class="tag">&lt;<span class="title">button</span>&gt;</span>下一步<span class="tag">&lt;/<span class="title">button</span>&gt;</span><span class="tag">&lt;/<span class="title">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>于是一个输入的列表就很容易做出来了。然后既然是表单，就需要验证。而此处做的验证实际上有这么几点：</p>
<ul>
<li>用户名是否合法/重复？</li>
<li>两次输入的密码是否相同？</li>
<li>校园网账户的密码是否正确？</li>
</ul>
<p>其中只有第二点两次密码输入是否相同可以用前端直接判断，而第一、三点都是需要通过ajax的方式向后台发送验证请求的。为了能够体现和辨别错误与否，我们在main下的每个条例里加入了一个error属性，并规定如下三种状态：</p>
<ul>
<li>true，代表有错误，提示错误</li>
<li>false，代表正确，提示正确</li>
<li>normal，代表默认，显示默认值</li>
</ul>
<p>于是我们可以在method下写一些方法来进行判断。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">checkUserId: <span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (msg !== <span class="string">""</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>.$http.post(<span class="string">'url'</span>+msg,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (data.success)&#123;</span><br><span class="line">        <span class="keyword">this</span>.main[<span class="number">0</span>].error = <span class="literal">false</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.main[<span class="number">0</span>].error = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.main[<span class="number">0</span>].error = <span class="string">"normal"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">checkUserPwd: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.userInfo.passwd_confirm !== <span class="string">""</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>.userInfo.passwd == <span class="keyword">this</span>.userInfo.passwd_confirm &amp;&amp; <span class="keyword">this</span>.userInfo.passwd_confirm != <span class="string">""</span> ? <span class="keyword">this</span>.main[<span class="number">2</span>].error = <span class="literal">false</span> : <span class="keyword">this</span>.main[<span class="number">2</span>].error = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>当然这个只是一个引入的功能，我们再聚合一下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">check: <span class="function"><span class="keyword">function</span>(<span class="params">msg,i</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> index = i;</span><br><span class="line">  <span class="keyword">this</span>.userInfo[msg] != <span class="string">""</span> ? <span class="keyword">this</span>.main[index].effect = <span class="literal">true</span> : <span class="keyword">this</span>.main[index].effect = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">switch</span> (msg)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"username"</span>:</span><br><span class="line">      <span class="keyword">this</span>.checkUserId(<span class="keyword">this</span>.userInfo[msg]);                                      </span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"passwd"</span>:                                                                 </span><br><span class="line">      <span class="keyword">this</span>.userInfo.passwd !== <span class="string">""</span> ? <span class="keyword">this</span>.main[<span class="number">1</span>].error = <span class="literal">false</span> : <span class="keyword">this</span>.main[<span class="number">1</span>].error = <span class="string">"normal"</span>;       </span><br><span class="line">      <span class="keyword">this</span>.checkUserPwd();                                                       </span><br><span class="line">      <span class="keyword">break</span>;                                                                     </span><br><span class="line">    <span class="keyword">case</span> <span class="string">"passwd_confirm"</span>:</span><br><span class="line">      <span class="keyword">this</span>.checkUserPwd();                                                       </span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"gwno"</span>:</span><br><span class="line">      <span class="keyword">this</span>.userInfo.gwno !== <span class="string">""</span> ? <span class="keyword">this</span>.main[<span class="number">3</span>].error = <span class="literal">false</span> : <span class="keyword">this</span>.main[<span class="number">3</span>].error = <span class="string">"normal"</span>;     </span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"gwpwd"</span>:</span><br><span class="line">      <span class="keyword">this</span>.userInfo.gwno !== <span class="string">""</span> ? <span class="keyword">this</span>.main[<span class="number">4</span>].error = <span class="literal">false</span> : <span class="keyword">this</span>.main[<span class="number">4</span>].error = <span class="string">"normal"</span>;     </span><br><span class="line">      <span class="keyword">break</span>; </span><br><span class="line">  &#125;     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样通过一个check的method我们就可以将整个表单的验证的方法容纳进来了。（此处对于校园网账号的验证会放到提交表单的函数中）。为了能在视图中体现正确、错误、正常的不同形态，我们需要对前端的一些结构进行一些修改。我们需要给main下的每个条例加入错误信息，也即errorInfo。</p>
<p>所以至此整个main的结构是这样：</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">main:</span> [</span><br><span class="line">  &#123;<span class="string">"name"</span>:<span class="string">""</span>,<span class="string">"info"</span>:<span class="string">""</span>,<span class="string">"type"</span>:<span class="string">""</span>,<span class="string">"error"</span>:<span class="string">""</span>,<span class="string">"errorInfo"</span>:<span class="string">""</span>&#125;,</span><br><span class="line">  ...</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>然后我们需要加入提交验证的部分：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">submitReg: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> flag = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// 用于判断表单是否都是正确的</span></span><br><span class="line">  <span class="keyword">this</span>.main.map(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    obj.error == <span class="literal">false</span> ? flag += <span class="number">1</span> : flag +=<span class="number">0</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">if</span> (flag == <span class="number">5</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>.$http.post(<span class="string">'url'</span>,<span class="keyword">this</span>.userInfo)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (res.success)&#123;</span><br><span class="line">        swiper.slideNext(<span class="literal">false</span>,<span class="number">300</span>); <span class="comment">// 验证正确就可以进入下一页</span></span><br><span class="line">      &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.main[<span class="number">4</span>].error = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>将视图部分修改如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"user-info"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">li</span> <span class="attribute">v-for</span>=<span class="value">"item in main"</span> <span class="attribute">style</span>=<span class="value">"position: relative;"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 绑定blur事件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">input</span> @<span class="attribute">blur</span>=<span class="value">"check(item.name,$index)"</span> <span class="attribute">class</span>=<span class="value">"effect"</span> <span class="attribute">type</span>=<span class="value">"&#123;&#123;item.type&#125;&#125;"</span> <span class="attribute">v-model</span>=<span class="value">"userInfo[item.name]"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 根据error类型切换不同的标签显示 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">label</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 此处用到了v-show的方法 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-show</span>=<span class="value">"item.error == 'normal'"</span>&gt;</span>&#123;&#123;item.info&#125;&#125;<span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"color: red;"</span> <span class="attribute">v-show</span>=<span class="value">"item.error == true"</span>&gt;</span>&#123;&#123;item.errorInfo&#125;&#125;<span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-show</span>=<span class="value">"item.error == false"</span>&gt;</span>&#123;&#123;item.info&#125;&#125;√<span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"focus-border cube"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 点击下一步的同时提交表单信息 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#"</span>&gt;</span><span class="tag">&lt;<span class="title">button</span> @<span class="attribute">click</span>=<span class="value">"submitReg"</span>&gt;</span>下一步<span class="tag">&lt;/<span class="title">button</span>&gt;</span><span class="tag">&lt;/<span class="title">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>至此，整个注册页的布局和功能性的部分都已经做完了。不过这只是一块比较简单的部分，我们用到了vuejs的的v-for进行列表渲染，用到了v-model进行数据的双向绑定，用到了method进行一些数据的处理，用到了v-show进行条件显示，一个基本的页面下我们已经能尝试这么多vue的特性了。而相比于jquery的dom操作，我觉得vue在此处最好的地方在于，表单的提交很方便。由于双向绑定了数据，只需要后台把数据格式规定好给我，我按照后端的数据结构整理一下我前端的数据结构然后就可以直接提交给后端了。而且省去了很多dom操作的地方。</p>
<p>不过除了vue的部分，我还想来说说两个东西，跟css有关：</p>
<ul>
<li>全屏背景</li>
<li>输入框文字提升效果，并涉及到移动端动画效果的处理</li>
</ul>
<h4 id="全屏背景">全屏背景</h4><p>不仅仅是简单的<code>background-size: cover</code>那么简单了，还需要进行小小的处理。先说说我希望实现的效果吧。我希望的效果是整个背景能够填充整个页面，并且在页面元素上下滚动的情况下，背景固定而不随着元素滚动。</p>
<p>放到往常我可能会这么写：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">body</span>,<span class="tag">html</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">body</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="function">url</span>(bg.png) center <span class="number">0</span> no-repeat</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background-size</span>:<span class="value"> cover</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>但是这样的话在移动端会出现比较严重的后果，那就是一旦页面元素的高度大于整个页面后，滚动页面元素的时候，背景也会随之而动。而且背景会被撑开。这不是我所希望的。</p>
<p>这里用到一个小技巧，用上<code>:before</code>的方法。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">body</span><span class="pseudo">:before</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">""</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> fixed</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">z-index</span>:<span class="value"> -<span class="number">1</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">right</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">bottom</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="function">url</span>(bg.png) center <span class="number">0</span> no-repeat</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background-size</span>:<span class="value"> cover</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>这个用上before的伪元素的方法是一个很有奇效的小技巧。大家不妨可以试试。这样的话在移动端也能完美实现背景固定而且显示全屏。</p>
<h4 id="移动端动画简单初探">移动端动画简单初探</h4><p>在做PC端的web的动画效果的时候，由于PC端的性能足够，所以在写一些效果的时候往往没有考虑到性能的问题。这次在开发的时候就遇到了动画效果实现上不小的问题。大家先来看看这两个动画的比较：上面一个动画和下面一个动画：</p>
<p>第一个：</p>
<p></p><p data-height="550" data-theme-id="dark" data-slug-hash="zBGrxx" data-default-tab="result" data-user="molunerfinn" data-embed-version="2" data-preview="true" class="codepen">See the Pen <a href="http://codepen.io/molunerfinn/pen/zBGrxx/" target="_blank" rel="external">transform effect</a> by molunerfinn (<a href="http://codepen.io/molunerfinn" target="_blank" rel="external">@molunerfinn</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p>第二个：</p>
<p></p><p data-height="551" data-theme-id="dark" data-slug-hash="oLXjKz" data-default-tab="result" data-user="molunerfinn" data-embed-version="2" data-preview="true" class="codepen">See the Pen <a href="http://codepen.io/molunerfinn/pen/oLXjKz/" target="_blank" rel="external">repaint effect</a> by molunerfinn (<a href="http://codepen.io/molunerfinn" target="_blank" rel="external">@molunerfinn</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p>你会发现这两个东西的效果相差甚大。实际上，二者实现的最终效果是一致的，都是让小球按一条口型路线运动。但是为何显示上来说，第一个这么流畅，而第二个有明显卡顿呢？</p>
<p>这里涉及到很多东西，不光光是重绘（repaint），还有软硬件性能上面的问题。感兴趣的话可以参考这些文章：</p>
<ul>
<li><a href="http://alexorz.github.io/animation-performance-guide/" target="_blank" rel="external">Web动画性能指南</a></li>
<li><a href="https://www.qianduan.net/high-performance-css3-animations/" target="_blank" rel="external">高性能CSS3动画</a></li>
<li><a href="http://zencode.in/14.CSS%E5%8A%A8%E7%94%BB%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" target="_blank" rel="external">CSS动画的性能优化</a></li>
</ul>
<p>在移动端上的效果如果没有优化的话，实际上大致就是第二种的效果——让人看起来有所卡顿。简单来说，在移动端，有些效果是由浏览器来渲染的——那么这些效果如果比较复杂，而移动端的浏览器性能又不太足够的情况下，效果就比较卡顿。有些效果可以由GPU来渲染，那么这些效果渲染起来就相对来说比较流畅。而我们还可以人为触发GPU硬件渲染，通过 <code>transform</code>的<code>translate3d</code>属性就能实现硬件渲染从而俗称硬件加速。  </p>
<p>举个简单例子。如果让一个元素从(0,0)-&gt;(100px，0)，正常思路是<code>left: 0</code>-&gt;<code>left: 100px</code>，然后再用<code>transition</code>属性进行过渡。不过这样的话在移动端上效果就很感人，因为涉及到性能问题。但是如果我们用另外一种方式: <code>transform: translate3d(100px,0,0)</code>的话，就可以让这个动画效果由GPU去渲染，那么这样的话，在移动端的效果也是完全可以接受的流畅。</p>
<p>实际上，能够触发GPU渲染的动作有<code>opacity,transform,transition,animation</code>等等。但是像<code>top,left,color,size</code>等属性的变化则不会触发GPU渲染。  </p>
<p>本文中描述的实例，是当焦点集中到input框的时候，文本上移并且有颜色变化。本来想实现的是文本大小还有变化。但是由于上面说的情况，涉及到size变化的时候，效果就会大打折扣。无奈之下我只能砍掉这个效果了。而实现文本上移实际上就是采用了transform的translate3d的方式，将其往上移动，并配合transition进行了一下过渡处理罢了。</p>
<p>具体的CSS实现大致如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">input</span><span class="pseudo">:focus</span> ~ <span class="tag">label</span>,<span class="class">.trans</span> <span class="rules">&#123;                                                                 </span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;                                                                                 </span><br><span class="line">  <span class="rule"><span class="attribute">transition</span>:<span class="value"> <span class="number">0.3s</span></span></span>;                                                                            </span><br><span class="line">  <span class="rule"><span class="attribute">-webkit-transform</span>:<span class="value"> <span class="function">translate3d</span>(<span class="number">0</span>, -<span class="number">20px</span>, <span class="number">0</span>)</span></span>;                                                 </span><br><span class="line">  <span class="rule"><span class="attribute">-moz-transform</span>:<span class="value"> <span class="function">translate3d</span>(<span class="number">0</span>, -<span class="number">20px</span>, <span class="number">0</span>)</span></span>;                                                    </span><br><span class="line">  <span class="rule"><span class="attribute">-ms-transform</span>:<span class="value"> <span class="function">translate3d</span>(<span class="number">0</span>, -<span class="number">20px</span>, <span class="number">0</span>)</span></span>;                                                     </span><br><span class="line">  <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">translate3d</span>(<span class="number">0</span>, -<span class="number">20px</span>, <span class="number">0</span>)</span></span>;                                                         </span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>实际上也不难不是么？</p>
<h3 id="关注版面页的实现">关注版面页的实现</h3><p>实际上从注册页的实现中已经可以瞅见关注版面页实现的方法了。实际上关注版面页不过也是列表的渲染，在数据里定义好相应的属性就行了。然后用一个<code>picked</code>的属性来看看是否被选中即可。最后完成注册的时候，将所有选中的列表组装成相应的数组提交到后台就行了。因为注册页里这些方法已经说过了，所以就不再赘述了。</p>
<h2 id="总结">总结</h2><p>简单总结一下，这次移动端的开发中学习到的东西。</p>
<ul>
<li>Vuejs的简单使用，从DOM操作-&gt;数据绑定</li>
<li>全屏背景的实现</li>
<li>流畅动画效果的实现</li>
</ul>
<p>实际上，兼容性方面还有不少的东西需要诉说，不过限制于篇幅以及本文的主要内容并不是在纠结移动端的兼容性的所以并没有在兼容性方面进行记录。  </p>
<p>在排版上我还是没有用上比较流行的flex，对于Vue还没有使用组件化开发的思路。这些都是需要改进的部分。不过这次的开发过程中经过美工的指点，将我之前写页面的时候注意不到的很多细节部分，比如线条尺寸，元素间隔，颜色搭配等东西给指了出来，这些东西都不是简简单单就实现的。总之，有时间的话，我想我可以将设计方面的知识融入到我的前端开发中，想必能让我的作品更加地符合审美和用户的体验吧~</p>
<p><strong>DEMO的github地址在<a href="https://github.com/Molunerfinn/vue-mobile-learning-demo" target="_blank" rel="external">这里</a></strong></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/前端/" rel="tag"># 前端</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/something&nothing/" rel="next" title="一些杂碎的笔记整理 | JS、Linux、Sublime相关">
                <i class="fa fa-chevron-left"></i> 一些杂碎的笔记整理 | JS、Linux、Sublime相关
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/iTerm2-lrzsz/" rel="prev" title="OSX下iTerm2实现rz/sz与服务器进行文件上传/下载">
                OSX下iTerm2实现rz/sz与服务器进行文件上传/下载 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="vuejs-1/"
     data-title="移动端web开发初探之Vuejs的简单实战"
     data-content=""
     data-url="https://molunerfinn.com/vuejs-1/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="vuejs-1/"
           data-title="移动端web开发初探之Vuejs的简单实战" data-url="https://molunerfinn.com/vuejs-1/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://img.piegg.cn/21.jpg?imageslim"
               alt="Molunerfinn" />
          <p class="site-author-name" itemprop="name">Molunerfinn</p>
          <p class="site-description motion-element" itemprop="description">For MElody</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">43</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Molunerfinn" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#meta标签"><span class="nav-number">1.</span> <span class="nav-text">meta标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#整体布局"><span class="nav-number">2.</span> <span class="nav-text">整体布局</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#注册信息页"><span class="nav-number">2.1.</span> <span class="nav-text">注册信息页</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关注版面页"><span class="nav-number">2.2.</span> <span class="nav-text">关注版面页</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#整体架构"><span class="nav-number">3.</span> <span class="nav-text">整体架构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#swiper-js的应用"><span class="nav-number">4.</span> <span class="nav-text">swiper.js的应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue-js的简单实战"><span class="nav-number">5.</span> <span class="nav-text">Vue.js的简单实战</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#注册页实现"><span class="nav-number">5.1.</span> <span class="nav-text">注册页实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#全屏背景"><span class="nav-number">5.1.1.</span> <span class="nav-text">全屏背景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#移动端动画简单初探"><span class="nav-number">5.1.2.</span> <span class="nav-text">移动端动画简单初探</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关注版面页的实现"><span class="nav-number">5.2.</span> <span class="nav-text">关注版面页的实现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">6.</span> <span class="nav-text">总结</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Molunerfinn</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

      <span id="busuanzi_container_site_pv"> | &nbsp;&nbsp;Total-<span id="busuanzi_value_site_pv"></span>-views &nbsp;|</span>
      <span>&nbsp; <a id="ICP" href="http://www.miitbeian.gov.cn/">闽ICP备15023038号</a><span>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"molunerfinn"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js?v=5.1.0"></script>
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  












  
  

  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


</body>
</html>
