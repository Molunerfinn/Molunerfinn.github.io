var RevealNotes=function(){function e(e){function t(e){var t=Reveal.getCurrentSlide(),n=t.querySelector("aside.notes"),o=t.querySelector(".current-fragment"),r={namespace:"reveal-notes",type:"state",notes:"",markdown:!1,whitespace:"normal",state:Reveal.getState()};if(t.hasAttribute("data-notes")&&(r.notes=t.getAttribute("data-notes"),r.whitespace="pre-wrap"),o){var s=o.querySelector("aside.notes");s?n=s:o.hasAttribute("data-notes")&&(r.notes=o.getAttribute("data-notes"),r.whitespace="pre-wrap",n=null)}n&&(r.notes=n.innerHTML,r.markdown="string"==typeof n.getAttribute("data-markdown")),a.postMessage(JSON.stringify(r),"*")}if(!e){var n=document.querySelector('script[src$="notes.js"]').src;e=(n=n.replace(/notes\.js(\?.*)?$/,""))+"notes.html"}var a=window.open(e,"reveal.js - Notes","width=1100,height=700");a.Reveal=this.Reveal,function(){var e=setInterval(function(){a.postMessage(JSON.stringify({namespace:"reveal-notes",type:"connect",url:window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,state:Reveal.getState()}),"*")},500);window.addEventListener("message",function(n){var a=JSON.parse(n.data);a&&"reveal-notes"===a.namespace&&"connected"===a.type&&(clearInterval(e),Reveal.addEventListener("slidechanged",t),Reveal.addEventListener("fragmentshown",t),Reveal.addEventListener("fragmenthidden",t),Reveal.addEventListener("overviewhidden",t),Reveal.addEventListener("overviewshown",t),Reveal.addEventListener("paused",t),Reveal.addEventListener("resumed",t),t())})}()}return/receiver/i.test(window.location.search)||(null!==window.location.search.match(/(\?|\&)notes/gi)&&e(),document.addEventListener("keydown",function(t){null!==document.querySelector(":focus")||t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||!1!==Reveal.getConfig().keyboard&&83===t.keyCode&&(t.preventDefault(),e())},!1),window.Reveal&&Reveal.registerKeyboardShortcut("S","Speaker notes view")),{open:e}}();